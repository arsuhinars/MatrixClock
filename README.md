# MatrixClock OS
<img src="https://user-images.githubusercontent.com/36979003/125191748-122d7a80-e255-11eb-9431-ce85d6d289d5.jpg" height="200"> <img src="https://user-images.githubusercontent.com/36979003/125191764-21acc380-e255-11eb-8c1a-de06c466861e.jpg" height="200"> <img src="https://user-images.githubusercontent.com/36979003/125191766-25404a80-e255-11eb-9388-d9f2f13dcc27.jpg" height="200"><br>
Самодельные часы на матричном модуле на светодиодах WS2812 для ESP8266.

## Основные функции
* Режим отображения текущего времени
* Фоновые эффекты
* Мини-игры (змейка, runner)
* Управление через веб-интерфейс

# Описание режимов

## Режим часов
В данном режиме идет отображение текущего времени. В качестве фона часов можно выбрать сплошной цвет или один из эффектов. Также можно включить смену режима показа времени и отображения эффектов.

## Режим эффектов
Режим эффектов отображает один выбранный эффект из списка. Можно включить функцию автоматического переключения эффектов.

## Змейка
Классическая змейка, в которой вам придется собирать еду на поле, управляя змейкой. Управление идет через веб-интерфейс. Также в режиме эффектов можно включить демо режим, в котором змейка будет сама управляться.

## Runner
Мини-игра, в которой нужно перепрыгивать через надвигающиеся препятсвия. Игра также доступна в демо режиме.

# Веб-интерфейс
<img src="https://user-images.githubusercontent.com/36979003/125191945-1c9c4400-e256-11eb-9fbd-fbe409c5eec6.png" width="400"> <img src="https://user-images.githubusercontent.com/36979003/125191952-2d4cba00-e256-11eb-8e08-ef0a500d2e95.png" width="400"><br>
Для управления устройством используется веб-интерфейс. В нем можно выбирать режимы и изменять их настройки, управлять мини-играми, управлять настройками самого устройства. Для получения текущего времени используется SNTP протокол. В настройках можно изменить NTP сервер, по которому будет идти синхронизация времени. Также есть возможность ручной настройки текущего времени. При включении устройство будет пытаться подключится к домашней сети, адрес которой можно задать, как в проишвке, так и в веб-интерфейсе. Если подключение не удастся, то устройство создаст свою сеть с именем и паролем, указанными в настройках прошивки. 

# Сборка устройства
Для сборки вам потребуются:
* NodeMcu V3 (либо любая другая плата на ESP8266, имеющая достаточно пинов)
* Две матрицы 8x8 на светодиодах WS2812
* Фоторезистор
* Две кнопки (опционально)
* Различные расходники (провода, резисторы)

# Использованные библиотеки
* [FastLED](https://github.com/FastLED/FastLED)
* [ArduinoJson](https://github.com/bblanchon/ArduinoJson)
* [GyverButton](https://github.com/GyverLibs/GyverButton)
* [arduinoWebSockets](https://github.com/Links2004/arduinoWebSockets)
